---
import Layout from '../layouts/Layout.astro';
import Footer from '../components/Footer.astro';
import { FileText, Sparkles, Bug, Zap, Shield, Package } from 'lucide-astro';

const versions = [
  {
    version: '1.0.0',
    date: 'September 2025',
    status: 'upcoming',
    highlights: ['Initial Release', 'Launch'],
    features: [
      'Complete Homebrew package management',
      'Docker container monitoring and control',
      'Git repository management dashboard',
      'System resource monitoring (CPU, Memory, Disk, Network)',
      'Network tools and port scanner',
      'Apple Silicon optimization',
      '14-day free trial',
      'Pro subscription with advanced features'
    ],
    improvements: [],
    fixes: []
  }
];

const getIcon = (type: string) => {
  switch(type) {
    case 'features': return Sparkles;
    case 'improvements': return Zap;
    case 'fixes': return Bug;
    default: return FileText;
  }
};
---

<Layout 
  title="Changelog - Dev Cockpit"
  description="Track the latest updates, features, and improvements to Dev Cockpit. See what's new in each version."
>
  <main class="min-h-screen py-24 px-4 sm:px-6 lg:px-8">
    <div class="max-w-4xl mx-auto">
      <!-- Header -->
      <div class="text-center mb-12">
        <div class="inline-flex items-center gap-2 px-4 py-2 glass rounded-full text-sm text-gray-400 mb-6">
          <Package className="w-4 h-4" />
          <span>Release Notes</span>
        </div>
        <h1 class="text-4xl sm:text-5xl font-bold mb-4">
          Dev Cockpit <span class="gradient-text">Changelog</span>
        </h1>
        <p class="text-xl text-gray-400">
          Track every update and improvement we make
        </p>
      </div>

      <!-- Version Timeline -->
      <div class="relative">
        <!-- Timeline line -->
        <div class="absolute left-8 top-0 bottom-0 w-0.5 bg-gradient-to-b from-primary-500 to-purple-600"></div>
        
        <!-- Versions -->
        <div class="space-y-12">
          {versions.map((release) => (
            <div class="relative">
              <!-- Timeline dot -->
              <div class="absolute left-5 w-7 h-7 rounded-full gradient-primary flex items-center justify-center">
                <div class="w-3 h-3 bg-white rounded-full"></div>
              </div>
              
              <!-- Version card -->
              <div class="ml-20 glass rounded-2xl p-8">
                <!-- Version header -->
                <div class="flex flex-wrap items-center gap-4 mb-6">
                  <h2 class="text-2xl font-bold">Version {release.version}</h2>
                  {release.status === 'upcoming' && (
                    <span class="px-3 py-1 glass rounded-full text-sm text-primary-400 border border-primary-500/30">
                      Upcoming
                    </span>
                  )}
                  <span class="text-gray-400">{release.date}</span>
                </div>
                
                {release.highlights && release.highlights.length > 0 && (
                  <div class="flex flex-wrap gap-2 mb-6">
                    {release.highlights.map(highlight => (
                      <span class="px-3 py-1 glass rounded-full text-sm font-medium">
                        {highlight}
                      </span>
                    ))}
                  </div>
                )}
                
                <!-- Features -->
                {release.features.length > 0 && (
                  <div class="mb-6">
                    <div class="flex items-center gap-2 mb-3">
                      <Sparkles className="w-5 h-5 text-green-500" />
                      <h3 class="text-lg font-semibold">New Features</h3>
                    </div>
                    <ul class="space-y-2">
                      {release.features.map(feature => (
                        <li class="flex items-start gap-2">
                          <span class="text-green-500 mt-1">•</span>
                          <span class="text-gray-300">{feature}</span>
                        </li>
                      ))}
                    </ul>
                  </div>
                )}
                
                <!-- Improvements -->
                {release.improvements && release.improvements.length > 0 && (
                  <div class="mb-6">
                    <div class="flex items-center gap-2 mb-3">
                      <Zap className="w-5 h-5 text-blue-500" />
                      <h3 class="text-lg font-semibold">Improvements</h3>
                    </div>
                    <ul class="space-y-2">
                      {release.improvements.map(improvement => (
                        <li class="flex items-start gap-2">
                          <span class="text-blue-500 mt-1">•</span>
                          <span class="text-gray-300">{improvement}</span>
                        </li>
                      ))}
                    </ul>
                  </div>
                )}
                
                <!-- Bug Fixes -->
                {release.fixes && release.fixes.length > 0 && (
                  <div>
                    <div class="flex items-center gap-2 mb-3">
                      <Bug className="w-5 h-5 text-orange-500" />
                      <h3 class="text-lg font-semibold">Bug Fixes</h3>
                    </div>
                    <ul class="space-y-2">
                      {release.fixes.map(fix => (
                        <li class="flex items-start gap-2">
                          <span class="text-orange-500 mt-1">•</span>
                          <span class="text-gray-300">{fix}</span>
                        </li>
                      ))}
                    </ul>
                  </div>
                )}
              </div>
            </div>
          ))}
        </div>
      </div>

      <!-- Future Roadmap -->
      <div class="mt-16 glass rounded-2xl p-8">
        <div class="flex items-center gap-3 mb-6">
          <div class="p-2 glass rounded-lg">
            <Shield className="w-6 h-6 text-primary-400" />
          </div>
          <h2 class="text-2xl font-bold">Roadmap</h2>
        </div>
        
        <p class="text-gray-300 mb-6">
          We're constantly working to improve Dev Cockpit. Here's what's coming next:
        </p>
        
        <div class="grid md:grid-cols-2 gap-4">
          <div class="glass rounded-xl p-4">
            <h3 class="font-semibold mb-2">Q2 2025</h3>
            <ul class="text-sm text-gray-400 space-y-1">
              <li>• Terminal integration</li>
              <li>• Custom dashboard layouts</li>
              <li>• Brew services management</li>
            </ul>
          </div>
          <div class="glass rounded-xl p-4">
            <h3 class="font-semibold mb-2">Q3 2025</h3>
            <ul class="text-sm text-gray-400 space-y-1">
              <li>• Cloud sync for settings</li>
              <li>• Performance profiling tools</li>
              <li>• Database client integration</li>
            </ul>
          </div>
          <div class="glass rounded-xl p-4">
            <h3 class="font-semibold mb-2">Q4 2025</h3>
            <ul class="text-sm text-gray-400 space-y-1">
              <li>• AI-powered insights</li>
              <li>• Team collaboration features</li>
              <li>• iOS companion app</li>
            </ul>
          </div>
          <div class="glass rounded-xl p-4">
            <h3 class="font-semibold mb-2">2026</h3>
            <ul class="text-sm text-gray-400 space-y-1">
              <li>• Windows & Linux support</li>
              <li>• Plugin ecosystem</li>
              <li>• Enterprise features</li>
            </ul>
          </div>
        </div>
      </div>

      <!-- Subscribe to Updates -->
      <div class="mt-12 text-center glass rounded-2xl p-8">
        <h2 class="text-xl font-semibold mb-4">Stay Updated</h2>
        <p class="text-gray-400 mb-6">
          Get notified about new releases and features
        </p>
        <div class="flex flex-col sm:flex-row gap-4 max-w-md mx-auto">
          <input 
            type="email" 
            placeholder="Enter your email" 
            class="flex-1 px-4 py-3 glass rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500"
          />
          <button class="cta-button">
            Subscribe
          </button>
        </div>
      </div>
    </div>
  </main>
  <Footer />
</Layout>

<style>
  .glass {
    background-color: rgba(255, 255, 255, 0.05);
    backdrop-filter: blur(12px);
    border: 1px solid rgba(255, 255, 255, 0.1);
  }

  .gradient-text {
    background: linear-gradient(to right, #60a5fa, #a78bfa);
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
  }

  .gradient-primary {
    background: linear-gradient(to bottom right, #3b82f6, #2563eb);
  }

  .cta-button {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.75rem 1.5rem;
    border-radius: 0.75rem;
    font-weight: 600;
    transition: all 0.2s;
    background: linear-gradient(to right, #3b82f6, #a855f7);
  }

  .cta-button:hover {
    box-shadow: 0 20px 25px -5px rgba(59, 130, 246, 0.25);
    transform: scale(1.05);
  }
</style>